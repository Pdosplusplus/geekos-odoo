<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="report_project_general">
    <t t-call="agili.report_layout"/>
      <t t-call="report.html_container">
        <t t-call="report.internal_layout">
          <div class="page">
            <br/>
            <div class="panel panel-info">             
              <table class="table table-condensed">
                              
                <thead>
                  <th colspan="2" class="center">

                    Proyectos: <span class="badge" t-esc="data['len_project']"/>

                  </th>
                </thead>

                <tbody>
                  
                  <tr>
                      <td>
                        Culminados: <span class="badge" t-esc="data['pro_done']"/> 
                      </td>
                      
                      <td>

                        <ul>
                          <t t-foreach="data['projects_done']" t-as="project">
                            <li>
                              <strong t-esc="project_pro['name']"/>

                              <ul class="list-group">

                                <span> Responsables:</span>
                                <t t-foreach="project_pro['responsibles']" t-as="responsibles">

                                  <li class="list-group-item">
                                    <span t-esc="responsibles['name']"/>
                                  </li>

                                  <li class="list-group-item">
                                    <span class="badge" t-esc="responsibles['days_plan']"/>
                                    Dias Planificados
                                  </li>

                                  <li class="list-group-item">
                                    <span class="badge" t-esc="responsibles['days_exe']"/>
                                    Dias Ejecutados
                                  </li>

                                </t>
                                
                              </ul>
                              
                            </li>
                          </t>  
                        </ul>

                      </td>
                  </tr>

                  <tr>
                      <td>
                        En proceso: <span class="badge" t-esc="data['pro_process']"/>
                      </td>
                      
                      <td>

                        <ul>
                          <t t-foreach="data['projects_process']" t-as="project_pro">
                            <li>
                              <strong t-esc="project_pro['name']"/>

                              <ul class="list-group">

                                <span> Responsables:</span>
                                <t t-foreach="project_pro['responsibles']" t-as="responsibles">

                                  <li class="list-group-item">
                                    <strong t-esc="responsibles['name']"/>
                                  </li>

                                  <li class="list-group-item">
                                    <span class="badge" t-esc="responsibles['days_plan']"/>
                                    Days Planificados
                                  </li>

                                  <li class="list-group-item">
                                    <span class="badge" t-esc="responsibles['days_exe']"/>
                                    Dias Ejecutados
                                  </li>

                                </t>
                                
                              </ul>
                              
                            </li>
                          </t>  
                        </ul>
    
                      </td>
                  </tr>

                  <tr>
                      <td>
                        Detenidos: <span class="badge" t-esc="data['pro_stopped']"/>
                      </td>
                      
                      <td>

                        <ul>
                          <t t-foreach="data['projects_stopped']" t-as="project_stop">
                            <li>
                              <strong t-esc="project_stop['name']"/>

                              <ul class="list-group">

                                <span> Responsables:</span>
                                <t t-foreach="project_stop['responsibles']" t-as="responsibles">

                                  <li class="list-group-item">
                                    <strong t-esc="responsibles['name']"/>
                                  </li>

                                  <li class="list-group-item">
                                    <span class="badge" t-esc="responsibles['days_plan']"/>
                                    Dias Planificados
                                  </li>

                                  <li class="list-group-item">
                                    <span class="badge" t-esc="responsibles['days_exe']"/>
                                    Dias Ejecutados
                                  </li>

                                </t>
                                
                              </ul>
                              
                            </li>
                          </t>  
                        </ul>
                      </td>
                  </tr>

                  <tr>
                      <td>Porcentaje de Avance:</td>
                      <td>
                        <div class="progress">
                          <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em;">
                            <t t-esc="data['pro_porcen']"/> %
                          </div>
                        </div>
                      </td>
                  </tr>

                </tbody>
            
              </table>

            </div>

            <div class="panel panel-default">

              <table class="table table-condensed">
                      
                <thead>
                  <th colspan="2" class="center">
                    DIas Planificados: <span class="badge" t-esc="data['days_total']"/>
                  </th>
                </thead>

                <tbody>
                  
                  <tr>
                      <td>Ejecutadas:</td>
                      <td>
                          <span class="badge" t-esc="data['days_done']"/>
                      </td>
                  </tr>

                  <tr>
                      <td>En proceso: </td>
                      <td>
                        <span class="badge" t-esc="data['days_process']"/>
                      </td>
                  </tr>

                  <tr>
                      <td>Sin ejecutar:</td>
                      <td>
                        <span class="badge" t-esc="data['days_stopped']"/>
                      </td>
                  </tr>

                  <tr>
                      <td>Porcentaje de Avance:</td>
                      <td>
                        <div class="progress">
                          <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em;">
                            <t t-esc="data['days_porcen']"/> % 
                          </div>
                        </div>
                      </td>
                  </tr>

                </tbody>
            
              </table>
            </div>

        </div>
      </t>
    </t>
  </template>

  <template id="report_layout">
      <!-- Multicompany -->
      <t t-call="agili.report_header" />
      <t t-call="agili.report_footer" />
  </template>


  <template id="report_header">
    <div class="header">
      
      <div class="row">
        
        <div class="col-xs-3">
          <img class="img-responsive" src="/agili/static/src/img/logo-5.png" style="max-height: 45px;"/>
        </div>
    
        <div class="col-xs-9 text-right" style="margin-top:20px;">
          Cooperativa Geekos
        </div>

      </div>

      <div class="row zero_min_height">
        <div class="col-xs-12">
          <div style="border-bottom: 1px solid black;"/>
        </div>
      </div>

      <div class="row">
        <div class="panel panel-info">
          <div class="panel-heading">
            <h3 class="text-center"> Reporte de Avance </h3>
          </div>
        </div>
      </div>

    </div>
  </template>

  <template id="report_footer">
    <footer>
      <div class='footer'>
        <div class="row">
          <div class="col-xs-12">
            
            <img class="img-responsive" src="/agili/static/src/img/footer.svg"/>
        
          </div>
        </div>
      </div> 
    </footer>     
  </template>

</odoo>